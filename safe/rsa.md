# 通信问题

1. 窃听/篡改
2. 假冒/事后否认

# 情景

AB 之间正常通信
A => B

AB 之间通信 被 X 窃听 或 篡改
A => X => B

# 安全通信

1. 首先，发送方使用`对称算法`对原始信息进行加密。
2. 接收方通过公钥机制`RSA`,生成 一对密钥，一个公钥，一个私钥。
3. 秘钥交换 `迪菲 - 赫尔曼密钥交换`
接收方 将公钥发送给 发送方。
发送方用公钥对对称算法的密钥进行加密，并发送给接收方。
接收方用私钥进行解密得到对称算法的密钥。
发送方再把已加密的原始信息发送给接收方。
接收方使用对称算法的密钥进行解密。

# 加密的意义

如果透明通信, 消息会被无成本的窃听和篡改
加密后 就算消息被窃听, 没有 秘钥解密,看到的也是乱的无意义的 字符了

# 对称加密 共享加密

加密解密 都是一样的 秘钥

优点: 加密速度
缺陷:  
1. 发送的信息 没有确定性, 造成事后否认 .  被中间攻击了,  是谁泄露了 我们之间的 公共秘钥, 谁来承当责任.
2. 不能确定是否被 第三方篡改

拓展问题:
1. 传输 公共秘钥 可能被  截取
2. 加密的信息可能被篡改,    解密后 将不会是 加密前的 消息.  接收方 还不一定知道被篡改了.
如果是有意义的 长信息 被篡改, 解密后 会变得很奇怪,  很容易看出被篡改
但是 如果是 简单的  abc , 无意义的订单号, 之类的.   解密后成  xyz . 就看不出被篡改了.

# 非对称加密 RSA

由 私钥 和 公钥 构成

私钥: 由自己保管, 用于 `解密` `签名`
公钥: 给通信的人, 用于 `加密` `验签`

# 公钥加密

优点: 发送的信息很安全,只有拥有私钥才能解密
缺陷: 不能确定是 谁发送加密信息,  加密速度慢

# 混合加密

使用 `对称秘钥` 加密信息,  `公钥加密` 加密 `对称秘钥`

# 数字签名

场景:JWT 


# 数字证书

由 公信机构 证明私钥 代表你.

# 秘钥交换
迪菲－赫尔曼密钥交换
非保护信道中`创建`共享密钥方法

# 资料
1. 加密算法 https://www.cnblogs.com/sochishun/p/7028056.html

# 参考
1. <<我的第一本算法书>>
2. https://baike.baidu.com/item/迪菲-赫尔曼密钥交换